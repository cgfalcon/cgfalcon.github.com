<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>scala-startups | Hellofalcon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="To be a good programer, I should Know about functional programming

What is ScalaScala stands for Scalable language
Scala 融合了 面向对象 和 函数式 的特性。面向对象方便构建大型系统同时有利于拓展，而函数式对于处理有趣的功能点上能够快速的完成开发。（Scala’s funct">
<meta property="og:type" content="article">
<meta property="og:title" content="scala-startups">
<meta property="og:url" content="http://hellofalcon.com/2015/05/22/scala-startups/index.html">
<meta property="og:site_name" content="Hellofalcon">
<meta property="og:description" content="To be a good programer, I should Know about functional programming

What is ScalaScala stands for Scalable language
Scala 融合了 面向对象 和 函数式 的特性。面向对象方便构建大型系统同时有利于拓展，而函数式对于处理有趣的功能点上能够快速的完成开发。（Scala’s funct">
<meta property="og:image" content="http://hellofalcon.com/img/scalahierarchy.png">
<meta property="og:updated_time" content="2015-05-24T09:23:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="scala-startups">
<meta name="twitter:description" content="To be a good programer, I should Know about functional programming

What is ScalaScala stands for Scalable language
Scala 融合了 面向对象 和 函数式 的特性。面向对象方便构建大型系统同时有利于拓展，而函数式对于处理有趣的功能点上能够快速的完成开发。（Scala’s funct">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">Hellofalcon</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/img/avatar.png"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://hellofalcon.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://hellofalcon.com"></form>
      </td>
      </tr>
    </table>
  </div>
  
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="/img/avatar.png">
      <h2 id="name">Falcon Chu</h2>
      <h3 id="title">Java程序猿@Alibaba</h3>
      <span id="location"><i class="fa fa-map-marker"></i>HangZhou, China</span>
      <a id="follow" href="http://weibo.com/cggogogo">关注我</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        2
        <span>文章</span>
      </div>
      <div class="article-info-block">
        2
        <span>标签</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="https://github.com/cgfalcon" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="http://www.zhihu.com/people/cgfalcon" target="_blank" title="zhihu"><i class="fa fa-zhihu"></i></a></td>
        
          <td><a href="http://weibo.com/cggogogo" target="_blank" title="weibo"><i class="fa fa-weibo"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      <section id="main"><article id="post-scala-startups" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      scala-startups
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/05/22/scala-startups/">
    <time datetime="2015-05-22T01:10:24.000Z" itemprop="datePublished">2015-05-22</time>
  </a>
</div>
          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/编程/">编程</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>To be a good programer, I should Know about functional programming</p>
</blockquote>
<h2 id="What_is_Scala">What is Scala</h2><p>Scala stands for <strong>Scalable language</strong></p>
<p>Scala 融合了 面向对象 和 函数式 的特性。面向对象方便构建大型系统同时有利于拓展，而函数式对于处理有趣的功能点上能够快速的完成开发。（Scala’s functional programming constructs make it easy to build interesting things quickly from simple parts. Its object-oriented constructs make it easy to structure larger systems and to adapt them to new demands.）</p>
<p><strong>关于scala应该包含什么类库</strong></p>
<p>So the approach of attempting to provide<br>everything in one language doesn’t scale very well. Instead, Scala allows<br>users to grow and adapt the language in the directions they need by defining<br>easy-to-use libraries that feel like native language support.</p>
<a id="more"></a>
<p><strong>从命令式到函数式的转变</strong></p>
<p>这里不是说函数式就是灵丹妙药，而是旨在说明如果想学好和用好函数式编程，需要做出一些改变。首先需要识别什么样的风格是函数式风格：</p>
<blockquote>
<p>One telltale sign is that if code contains any vars, it is probably in an imperative style. If the code contains no vars at all—i.e., it contains only vals—it is probably in a functional style.</p>
</blockquote>
<p>如果要尽可能的用函数式的风格编程，可以尝试尽量少的使用变量(var)，使用变量意味着函数可能会附带的产生某种副作用。</p>
<p><em>注意，这里提到的是var，也就是通常意义上的临时变量之类的。对于val这类不可变的变量不在此列</em></p>
<p>一开始会觉得，卧槽，不用变量怎么可能？不过可以考虑下是不是对问题的本质认识不清，所以无法使用更干净的方法实现。</p>
<p>来看下面一段代码的实现</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">printArgs</span><span class="params">(args: Array[String])</span>:</span> Unit = {
    var i = <span class="number">0</span>
    <span class="keyword">while</span> (i &lt; args.length) {
        println(args(i))
        i += <span class="number">1</span>
    }
}
</code></pre><p>这里要实现一个打印参数的功能，如果这样用scala那真是抱着金砖哭穷啊。但是如果改成：</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">printArgs</span><span class="params">(args: Array[String])</span>:</span> Unit = {
    args.foreach(println)
}
</code></pre><p>这样就不同了，不但消灭了变量，而且代码更简单，这意味着产生错误的可能性就减少了。所以如果函数式风格使用得当的话是能够让代码更简单，提高代码质量。</p>
<p>但是上面的代码还是存在副作用的可能，这是因为操作中涉及到了 <strong>output stream</strong></p>
<blockquote>
<p>The telltale sign of a function with side effects is that its result type is Unit. If a function isn’t returning any interesting value, which is what a result type of Unit means, the only way that function can make a difference in the world is through some kind of side effect.</p>
</blockquote>
<p>上面的例子，更加函数式化的样式是</p>
<pre><code>def <span class="function"><span class="title">formatArgs</span><span class="params">(args: Array[String])</span></span> = args.<span class="function"><span class="title">mkString</span><span class="params">(<span class="string">"\n"</span>)</span></span>
</code></pre><p>这样，处理参数的函数就消除了副作用。即便最后我们仍然需要使用outputstream，但是起码将这种副作用排除到了逻辑方法外。</p>
<p>从我们的编程经验中我们都知道有时候要消除副作用是困难的，因为真是世界总是千丝万缕的联系着，但是我们任然不能放弃消除副作用的机会。从上面的步骤实际上已经可以看出来如果消除副作用的方法，那就是：最小化副作用代码的作用域。最小化副作用代码另外还能方便我们进行测试，所以总体来说有两利无一害。</p>
<p>Scala is not a pure functional language that forces you to program<br>everything in the functional style. Scala is a hybrid imperative/functional language.</p>
<p>当然有时候你会发现命令式对处理手上的问题更有帮助，那么就不应该犹豫，漂亮的解决问题才是我们的目标（假设你是一个有良好品味的程序员的话(●’◡’●)）。</p>
<p>说到了做好还是要强调，无论函数式还是命令式也好，只要能帮助写出漂亮易维护的代码的话就要采用之，不应该有某种派别或者宗教意识形态，这样才利于扩展我们的学识，不是吗？</p>
<h3 id="基础问题记录">基础问题记录</h3><p><strong>可变与不可变</strong></p>
<p>Array 是可变的</p>
<p>List 是不可变的</p>
<p>Set 和 Map 同时又可变和不可变两种</p>
<p>immutable set 没有 <code>+=</code> 方法， 但是 mutable set 有 <code>+=</code> 方法，所以不可以在immutable set上调用 <code>.+=(...)</code></p>
<p><strong>Function</strong></p>
<p>函数返回值，如果函数递归调用的话，必须在函数定义的时候显示的指明函数返回类型。</p>
<p>如果函数只有一个表达式，那么可以省略掉花括号({})</p>
<p>syntax of a function literal : (x: Int, y: Int) =&gt; x + y</p>
<p>方法名如果以 : 结尾，表示方法的参数可以放到方法左边，因此方法名也就到了操作数的右边，例如 List 的 :: 方法， <code>1 :: List</code> 等价于 List.::(1)</p>
<p><strong>Tuple</strong></p>
<p>Tuple 的下标是从1 (xx._1)开始的，这是出于为了和首先使用tuple的语言保持一致</p>
<p><strong>操作符</strong></p>
<p>scala 不存在操作符重载的概念，因为scala中并不包含操作符，只不过我们可以使用*, +, -, / 等符号作为方法名</p>
<p><strong>Higher-Order Function</strong></p>
<p>也叫闭包。 可以理解为含有字段的Visitor</p>
<blockquote>
<p>In functional programming, a visitor with fields is called a  closure (or a higher-order function), which would be the result of applying a curried version of subst</p>
<p>—-A Little Java, A Few Patterns</p>
</blockquote>
<p><strong>Scala 的类型系统</strong></p>
<p><img src="/img/scalahierarchy.png" alt="Scala Hierarchy" title="scala hierarchy"></p>
<p><strong>类型的层次结构</strong></p>
<p><strong>Unit</strong> —&gt; <strong>void</strong> in Java</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hellofalcon.com/2015/05/22/scala-startups/" data-id="cia2lc4dp0003aohhr7fvx60p" class="article-share-link">分享到</a>
      
        <a href="http://hellofalcon.com/2015/05/22/scala-startups/#disqus_thread" class="article-comment-link">评论</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/">Scala</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/函数式编程/">函数式编程</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/05/22/helloworld/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">helloworld</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/05/22/scala-startups/" class="thumbnail">
  
    <span style="background-image:url(/img/scalahierarchy.png
)" alt="scala-startups" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/编程/">编程</a></p>
              <p class="item-title"><a href="/2015/05/22/scala-startups/" class="title">scala-startups</a></p>
              <p class="item-date"><time datetime="2015-05-22T01:10:24.000Z" itemprop="datePublished">2015-05-22</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/05/22/helloworld/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/05/22/helloworld/" class="title">helloworld</a></p>
              <p class="item-date"><time datetime="2015-05-22T00:52:41.000Z" itemprop="datePublished">2015-05-22</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala/">Scala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数式编程/">函数式编程</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Scala/" style="font-size: 10px;">Scala</a> <a href="/tags/函数式编程/" style="font-size: 10px;">函数式编程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Falcon Chu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script>
  var disqus_shortname = 'hellofalcon';
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>